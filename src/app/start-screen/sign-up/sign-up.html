<div class="login-card">
    <div class="back_arrow_wrapper">
        <a class="back_arrow" routerLink="/login">
            <img src="assets/icons/arrow-left-line.svg" alt="">
        </a>
    </div>

    <form #form="ngForm" (ngSubmit)="onSubmit(form)">
        <p>Sign up</p>

        <div class="inputs">

            <!-- Display Name -->
            <div>
                <input type="text" name="displayName" id="displayName" required placeholder="Name"
                    [(ngModel)]="user.displayName" #displayName="ngModel" (ngModelChange)="validateDisplayName()"
                    [ngClass]="{ error: displayNameInvalid }" />
                <img class="image_color" src="./assets/icons/person.svg" alt="" />
            </div>

            <!-- Email -->
            <div>
                <input type="email" name="email" id="email" required placeholder="Email" [(ngModel)]="user.email"
                    #email="ngModel" (ngModelChange)="validateEmail()" [ngClass]="{ error: emailInvalid }" />
                <img class="image_color" src="./assets/icons/mail.svg" alt="" />
            </div>

            <!-- Password -->
            <div>
                <input [type]="passwordVisible ? 'text' : 'password'" name="password" id="password" required
                    placeholder="Password" [(ngModel)]="user.password" #password="ngModel"
                    (ngModelChange)="validatePassword()" [ngClass]="{ error: passwordInvalid }" />
                <img class="image_color pointer"
                    [src]="passwordVisible ? './assets/icons/visibility.svg' : './assets/icons/visibility_off.svg'"
                    (click)="togglePasswordVisibility()" alt="Show/Hide Password" />
            </div>

            <!-- Confirm Password -->
            <div>
                <input type="password" name="confirmPassword" id="confirmPassword" required
                    placeholder="Confirm Password" [(ngModel)]="user.confirmPassword" #confirmPassword="ngModel"
                    (ngModelChange)="validateConfirmPassword()" [ngClass]="{ error: confirmPasswordMismatch }" />
                <img class="image_color" src="./assets/icons/lock.svg" alt="" />
            </div>

            <!-- Error messages -->

            @if (currentError) {
            <p class="error-message">{{ currentError }}</p>
            }
        </div>

        <!-- Accept Terms -->
        <div class="accept_terms" (click)="toggleCheckBox()">
            <img class="checkbox-icon"
                [src]="checked ? './assets/icons/checked_button.svg' : './assets/icons/checked_button_empty.svg'" />
            <p>I accept the <a routerLink="/privacy"><span>Privacy policy</span></a></p>
        </div>

        <!-- Submit Button -->
        <div class="buttons">
            <button [class.active]="checked" [class.inactive]="!checked" [disabled]="!checked" type="submit">
                Sign up
            </button>


        </div>

    </form>
</div>