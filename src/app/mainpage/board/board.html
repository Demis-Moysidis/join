<app-searchbar-header (searchResult)="handleSearch($event)" (add)="addTask()">
</app-searchbar-header>


<app-overview-tasks (addTaskToStage)="addTaskWithStage($event)" (selectedTaskId)="setSelectedTaskId($event)" [searchTermForTask]="searchTerm"></app-overview-tasks>

@if (selectedTaskId) {
<app-single-task-popup (edit)="onEditTask($event)" [taskId]="selectedTaskId" (delete)="deleteTask($event)"
    (close)="closePopup()">
</app-single-task-popup>
}

@if (editMode) {
<div class="overlay">
    <app-tasks class="edit_mode" (addToStage)="addTaskWithStage($event)" [taskId]="editingTaskId" [editMode]="true" (close)="closeEdit()">
    </app-tasks>
</div>
}

@if (addMode) {
<div class="overlay">
    <app-tasks class="add_mode" [stage]="stageForNewTask" (addToStage)="addTaskWithStage($event)" [addMode]="true" (close)="closeAdd()">
    </app-tasks>
</div>
}